set -s escape-time 0

# change prefix C-b -> C-a
unbind C-b
set -g prefix C-w

# When C-w x2 is pressed, send C-w.
# bind C-w last-window

###
# Copy mode
###
## Vim like keybind.
setw -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection

## copy setting
if-shell -b 'test -n "$WSLENV"' 'bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "win32yank.exe -i"'
if-shell -b 'uname | grep -q Darwin' 'bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -in -selection c"'

## past cripboard setting
if-shell -b 'test -n "$WSLENV"' 'bind p run-shell "win32yank.exe -o | xargs -0 -I{} tmux set-buffer -- {} && tmux paste-buffer'
if-shell -b 'uname | grep -q Darwin' 'bind p run-shell "xclip -selection c -o | xargs -0 -I{} tmux set-buffer -- {} && tmux paste-buffer"'

###
# mouse setting
###
set -g mouse on

###
# Key Bind
###

# Move panel with vim keybind
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# pane divide setting
bind c new-window -c '#{pane_current_path}'
bind \\ split-window -h -c '#{pane_current_path}'
bind - split-window -v -c '#{pane_current_path}'

# resize pane setting
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5
bind -r C-z resize-pane -Z

###
# Others
###
# 下記の設定をしておいたほうがEscの効きがいいらしい
set -s escape-time 0
